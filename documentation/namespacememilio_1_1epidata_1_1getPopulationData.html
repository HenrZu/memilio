<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MEmilio: memilio.epidata.getPopulationData Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MEmilio
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>memilio</b></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata.html">epidata</a></li><li class="navelem"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html">getPopulationData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">memilio.epidata.getPopulationData Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a96f0f7f59f1f85f6be39df0b4dda66b4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a96f0f7f59f1f85f6be39df0b4dda66b4">assign_population_data</a> (df_pop_raw, counties, age_cols, idCounty_idx)</td></tr>
<tr class="memdesc:a96f0f7f59f1f85f6be39df0b4dda66b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns population data of all counties of old dataframe in new created dataframe.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a96f0f7f59f1f85f6be39df0b4dda66b4">More...</a><br /></td></tr>
<tr class="separator:a96f0f7f59f1f85f6be39df0b4dda66b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e071ebf1fec57c874b7e11ecefc9eb8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a8e071ebf1fec57c874b7e11ecefc9eb8">export_population_dataframe</a> (pd.DataFrame df_pop, str directory, str file_format, bool merge_eisenach, ref_year)</td></tr>
<tr class="memdesc:a8e071ebf1fec57c874b7e11ecefc9eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes population dataframe into directory with new column names and age groups.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a8e071ebf1fec57c874b7e11ecefc9eb8">More...</a><br /></td></tr>
<tr class="separator:a8e071ebf1fec57c874b7e11ecefc9eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f049c78e1e54b82495817accc451669"><td class="memItemLeft" align="right" valign="top">pd.DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a5f049c78e1e54b82495817accc451669">fetch_population_data</a> (bool read_data=dd.defaultDict['read_data'], str out_folder=dd.defaultDict['out_folder'], ref_year=None, **kwargs)</td></tr>
<tr class="memdesc:a5f049c78e1e54b82495817accc451669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads or reads the population data.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a5f049c78e1e54b82495817accc451669">More...</a><br /></td></tr>
<tr class="separator:a5f049c78e1e54b82495817accc451669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad046e0ca18854bcfca38755f537251de"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#ad046e0ca18854bcfca38755f537251de">get_population_data</a> (bool read_data=dd.defaultDict['read_data'], str file_format=dd.defaultDict['file_format'], str out_folder=dd.defaultDict['out_folder'], bool merge_eisenach=True, ref_year=None, **kwargs)</td></tr>
<tr class="memdesc:ad046e0ca18854bcfca38755f537251de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download age-stratified population data for the German counties.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#ad046e0ca18854bcfca38755f537251de">More...</a><br /></td></tr>
<tr class="separator:ad046e0ca18854bcfca38755f537251de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c78642cd90d33be2bff3e1f842ecaf2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a9c78642cd90d33be2bff3e1f842ecaf2">main</a> ()</td></tr>
<tr class="memdesc:a9c78642cd90d33be2bff3e1f842ecaf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program entry.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a9c78642cd90d33be2bff3e1f842ecaf2">More...</a><br /></td></tr>
<tr class="separator:a9c78642cd90d33be2bff3e1f842ecaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05ea405957d7044094c63fea6a502e1"><td class="memItemLeft" align="right" valign="top">pd.DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#ab05ea405957d7044094c63fea6a502e1">preprocess_population_data</a> (pd.DataFrame df_pop_raw, bool merge_eisenach=True)</td></tr>
<tr class="memdesc:ab05ea405957d7044094c63fea6a502e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processing of the downloaded data.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#ab05ea405957d7044094c63fea6a502e1">More...</a><br /></td></tr>
<tr class="separator:ab05ea405957d7044094c63fea6a502e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87733ad1c1c9658a177cc4898c59899e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a87733ad1c1c9658a177cc4898c59899e">read_population_data</a> (ref_year)</td></tr>
<tr class="memdesc:a87733ad1c1c9658a177cc4898c59899e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads Population data from regionalstatistik.de.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a87733ad1c1c9658a177cc4898c59899e">More...</a><br /></td></tr>
<tr class="separator:a87733ad1c1c9658a177cc4898c59899e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3788e37bd5d5adcec9958d6e780769d1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a3788e37bd5d5adcec9958d6e780769d1">test_total_population</a> (df_pop, age_cols)</td></tr>
<tr class="memdesc:a3788e37bd5d5adcec9958d6e780769d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if total population matches expectation.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a3788e37bd5d5adcec9958d6e780769d1">More...</a><br /></td></tr>
<tr class="separator:a3788e37bd5d5adcec9958d6e780769d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bef38c40ff79a5286798716473d9838"><td class="memItemLeft" align="right" valign="top">None or pd.DataFrame&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a2bef38c40ff79a5286798716473d9838">write_population_data</a> (pd.DataFrame df_pop, str out_folder=dd.defaultDict['out_folder'], str file_format=dd.defaultDict['file_format'], bool merge_eisenach=True, ref_year=None)</td></tr>
<tr class="memdesc:a2bef38c40ff79a5286798716473d9838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the population data into json files Three kinds of structuring of the data are done.  <a href="namespacememilio_1_1epidata_1_1getPopulationData.html#a2bef38c40ff79a5286798716473d9838">More...</a><br /></td></tr>
<tr class="separator:a2bef38c40ff79a5286798716473d9838"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a64e3c222ff223e0285e51fe3d379b4ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacememilio_1_1epidata_1_1getPopulationData.html#a64e3c222ff223e0285e51fe3d379b4ca">copy_on_write</a></td></tr>
<tr class="separator:a64e3c222ff223e0285e51fe3d379b4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a96f0f7f59f1f85f6be39df0b4dda66b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f0f7f59f1f85f6be39df0b4dda66b4">&#9670;&nbsp;</a></span>assign_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.assign_population_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df_pop_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>counties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>age_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idCounty_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns population data of all counties of old dataframe in new created dataframe. </p>
<p>In df_pop_raw there might be additional information like federal states, governing regions etc. which is not necessary for the dataframe. Also checks for incomplete data. <br  />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop_raw</td><td>Raw Population DataFrame read from regionalstatistik.de </td></tr>
    <tr><td class="paramname">counties</td><td>List of counties to be assigned in new DataFrame </td></tr>
    <tr><td class="paramname">age_cols</td><td>Age groups in old DataFrame </td></tr>
    <tr><td class="paramname">idCountyidx</td><td>indexes in old DataFrame where data of corresponding county starts </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new DataFrame </dd></dl>

</div>
</div>
<a id="a8e071ebf1fec57c874b7e11ecefc9eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e071ebf1fec57c874b7e11ecefc9eb8">&#9670;&nbsp;</a></span>export_population_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.export_population_dataframe </td>
          <td>(</td>
          <td class="paramtype">pd.DataFrame&#160;</td>
          <td class="paramname"><em>df_pop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>file_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>merge_eisenach</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_year</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes population dataframe into directory with new column names and age groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop</td><td>Population data DataFrame to be exported </td></tr>
    <tr><td class="paramname">directory</td><td>Directory where data is written to. </td></tr>
    <tr><td class="paramname">file_format</td><td>File format which is used for writing the data. </td></tr>
    <tr><td class="paramname">merge_eisenach</td><td>Defines whether the counties 'Wartburgkreis' and 'Eisenach' are listed separately or combined as one entity 'Wartburgkreis'. </td></tr>
    <tr><td class="paramname">ref_year</td><td>None or year (jjjj) convertible to str. Reference year. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>exported DataFrame </dd></dl>

</div>
</div>
<a id="a5f049c78e1e54b82495817accc451669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f049c78e1e54b82495817accc451669">&#9670;&nbsp;</a></span>fetch_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> pd.DataFrame memilio.epidata.getPopulationData.fetch_population_data </td>
          <td>(</td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>read_data</em> = <code>dd.defaultDict['read_data']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>out_folder</em> = <code>dd.defaultDict['out_folder']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_year</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Downloads or reads the population data. </p>
<p>If it does not already exist, the folder Germany is generated in the given out_folder. If read_data == True and the file "FullData_population.json" exists, the data is read form this file and stored in a pandas dataframe. If read_data = True and the file does not exist the program is stopped. The downloaded dataframe is written to the file "FullData_population".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_data</td><td>False or True. Defines if data is read from file or downloaded. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">out_folder</td><td>Path to folder where data is written in folder out_folder/Germany. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">ref_year</td><td>[Default: None] or year (jjjj) convertible to str. Reference year. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame with adjusted population data for all ages to current level. </dd></dl>

</div>
</div>
<a id="ad046e0ca18854bcfca38755f537251de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad046e0ca18854bcfca38755f537251de">&#9670;&nbsp;</a></span>get_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.get_population_data </td>
          <td>(</td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>read_data</em> = <code>dd.defaultDict['read_data']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>file_format</em> = <code>dd.defaultDict['file_format']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>out_folder</em> = <code>dd.defaultDict['out_folder']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>merge_eisenach</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_year</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download age-stratified population data for the German counties. </p>
<p>The data we use is: Official 'Bevölkerungsfortschreibung' 12411-02-03-4: 'Bevölkerung nach Geschlecht und Altersgruppen (17)' of regionalstatistik.de. ATTENTION: The raw file cannot be downloaded automatically by our scripts without an Genesis Online account. In order to work on this dataset, please enter your username and password or manually download it from:</p>
<p><a href="https://www.regionalstatistik.de/genesis/online">https://www.regionalstatistik.de/genesis/online</a> -&gt; "1: Gebiet, Bevölkerung,
    Arbeitsmarkt, Wahlen" -&gt; "12: Bevölkerung" -&gt; "12411 Fortschreibung des
    Bevölkerungsstandes" -&gt; "12411-02-03-4: Bevölkerung nach Geschlecht und Altersgruppen (17) - Stichtag 31.12. - regionale Tiefe: Kreise und krfr. Städte".</p>
<p>Download the xlsx or csv file and put it under dd.defaultDict['out_folder'], this normally is Memilio/data/pydata/Germany. The folders 'pydata/Germany' have to be created if they do not exist yet. Then this script can be run.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_data</td><td>False or True. Defines if data is read from file or downloaded. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">file_format</td><td>File format which is used for writing the data. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">out_folder</td><td>Path to folder where data is written in folder out_folder/Germany. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">merge_eisenach</td><td>[Default: True] or False. Defines whether the counties 'Wartburgkreis' and 'Eisenach' are listed separately or combined as one entity 'Wartburgkreis'. </td></tr>
    <tr><td class="paramname">ref_year</td><td>[Default: None] or year (jjjj) convertible to str. Reference year. </td></tr>
    <tr><td class="paramname">username</td><td>str. Username to sign in at regionalstatistik.de. </td></tr>
    <tr><td class="paramname">password</td><td>str. Password to sign in at regionalstatistik.de. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame with adjusted population data for all ages to current level. </dd></dl>

</div>
</div>
<a id="a9c78642cd90d33be2bff3e1f842ecaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c78642cd90d33be2bff3e1f842ecaf2">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program entry. </p>

</div>
</div>
<a id="ab05ea405957d7044094c63fea6a502e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab05ea405957d7044094c63fea6a502e1">&#9670;&nbsp;</a></span>preprocess_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> pd.DataFrame memilio.epidata.getPopulationData.preprocess_population_data </td>
          <td>(</td>
          <td class="paramtype">pd.DataFrame&#160;</td>
          <td class="paramname"><em>df_pop_raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>merge_eisenach</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processing of the downloaded data. </p>
<ul>
<li>the columns are renamed to English and the state and county names are added.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop_raw</td><td>pd.DataFrame. A Dataframe containing input population data </td></tr>
    <tr><td class="paramname">merge_eisenach</td><td>[Default: True] or False. Defines whether the counties 'Wartburgkreis' and 'Eisenach' are listed separately or combined as one entity 'Wartburgkreis'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>df pd.DataFrame. Processed population data </dd></dl>

</div>
</div>
<a id="a87733ad1c1c9658a177cc4898c59899e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87733ad1c1c9658a177cc4898c59899e">&#9670;&nbsp;</a></span>read_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.read_population_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads Population data from regionalstatistik.de. </p>
<p>A request is made to regionalstatistik.de and the StringIO is read in as a csv into the dataframe format. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_year</td><td>[Default: None] or year (jjjj) convertible to str. Reference year. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DataFrame </dd></dl>

</div>
</div>
<a id="a3788e37bd5d5adcec9958d6e780769d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3788e37bd5d5adcec9958d6e780769d1">&#9670;&nbsp;</a></span>test_total_population()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def memilio.epidata.getPopulationData.test_total_population </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df_pop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>age_cols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests if total population matches expectation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop</td><td>Population Dataframe with all counties </td></tr>
    <tr><td class="paramname">age_cols</td><td>All age groups in DataFrame </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2bef38c40ff79a5286798716473d9838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bef38c40ff79a5286798716473d9838">&#9670;&nbsp;</a></span>write_population_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None or pd.DataFrame memilio.epidata.getPopulationData.write_population_data </td>
          <td>(</td>
          <td class="paramtype">pd.DataFrame&#160;</td>
          <td class="paramname"><em>df_pop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>out_folder</em> = <code>dd.defaultDict['out_folder']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>file_format</em> = <code>dd.defaultDict['file_format']</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>merge_eisenach</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ref_year</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the population data into json files Three kinds of structuring of the data are done. </p>
<p>We obtain the chronological sequence of ICU and ICU_ventilated stored in the files "county_population".json", "state_population.json" and "germany_population.json" for counties, states and whole Germany, respectively.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">df_pop</td><td>pd.DataFrame. A Dataframe containing processed population data </td></tr>
    <tr><td class="paramname">file_format</td><td>str. File format which is used for writing the data. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">out_folder</td><td>str. Folder where data is written to. Default defined in <a class="el" href="namespacememilio_1_1epidata_1_1defaultDict.html">defaultDict</a>. </td></tr>
    <tr><td class="paramname">merge_eisenach</td><td>[Default: True] or False. Defines whether the counties 'Wartburgkreis' and 'Eisenach' are listed separately or combined as one entity 'Wartburgkreis'. </td></tr>
    <tr><td class="paramname">ref_year</td><td>[Default: None] or year (jjjj) convertible to str. Reference year.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a64e3c222ff223e0285e51fe3d379b4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e3c222ff223e0285e51fe3d379b4ca">&#9670;&nbsp;</a></span>copy_on_write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">memilio.epidata.getPopulationData.copy_on_write</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
